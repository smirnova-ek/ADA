{
	"info": {
		"_postman_id": "7c593a94-454d-431a-b391-e8fe7ad9d51c",
		"name": "ADA",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Login",
			"item": [
				{
					"name": "positive",
					"item": [
						{
							"name": "Login with valid data (superadmin)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Successful POST request\", () => {\r",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201]);});\r",
											"\r",
											"\r",
											"pm.test(\"Check the token in response\", ()=> {\r",
											"    pm.expect(pm.cookies.has(\"refresh_token\")).to.exist\r",
											"});\r",
											"\r",
											"pm.test(\"Check the headers/set-cookie in response\", ()=> {\r",
											"    pm.expect(pm.cookies.has(\"set-cookie\")).to.exist\r",
											"});\r",
											"\r",
											"pm.test(\"Check the headers/connection in response\", ()=> {\r",
											"    pm.expect(pm.response.headers.get(\"Connection\")).to.eql(\"keep-alive\");\r",
											"\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Connection",
										"value": "keep-alive"
									},
									{
										"key": "Accept",
										"value": "application/json"
									},
									{
										"key": "User-Agent",
										"value": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.45 Safari/537.36"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Origin",
										"value": "http://stage.ada-alex.com"
									},
									{
										"key": "Referer",
										"value": "http://stage.ada-alex.com/"
									},
									{
										"key": "Accept-Language",
										"value": "ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\"username\":\"superadmin\",\r\n\"password\":\"supersecret\"}"
								},
								"url": {
									"raw": "{{url}}/auth/jwt/create",
									"host": [
										"{{url}}"
									],
									"path": [
										"auth",
										"jwt",
										"create"
									]
								}
							},
							"response": []
						},
						{
							"name": "Login with valid data (DS) TBF",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Successful POST request\", () => {\r",
											"    pm.expect(pm.response.code).to.be.oneOf([200,201]);});\r",
											"\r",
											"\r",
											"pm.test(\"Check the cookies/token in response\", ()=> {\r",
											"    pm.expect(pm.cookies.has(\"refresh_token\")).to.exist\r",
											"});\r",
											"\r",
											"pm.test(\"Check the headers/set-cookie in response\", ()=> {\r",
											"    pm.expect(pm.cookies.has(\"set-cookie\")).to.exist\r",
											"});\r",
											"\r",
											"pm.test(\"Check the headers/connection in response\", ()=> {\r",
											"    pm.expect(pm.response.headers.get(\"Connection\")).to.eql(\"keep-alive\");\r",
											"\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Connection",
										"value": "keep-alive"
									},
									{
										"key": "Accept",
										"value": "application/json"
									},
									{
										"key": "User-Agent",
										"value": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.45 Safari/537.36"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Origin",
										"value": "http://stage.ada-alex.com"
									},
									{
										"key": "Referer",
										"value": "http://stage.ada-alex.com/"
									},
									{
										"key": "Accept-Language",
										"value": "ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\"username\":\"{{username}}\",\r\n\"password\":\"{{password}}\"}"
								},
								"url": {
									"raw": "{{url}}/auth/jwt/create",
									"host": [
										"{{url}}"
									],
									"path": [
										"auth",
										"jwt",
										"create"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "negative",
					"item": [
						{
							"name": "Login with invalid data (DS)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 401\", function () {\r",
											"    pm.response.to.have.status(401);\r",
											"});\r",
											"\r",
											"pm.expect(pm.cookies.has('refresh_token')).to.be.true; "
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Connection",
										"value": "keep-alive"
									},
									{
										"key": "Accept",
										"value": "application/json"
									},
									{
										"key": "User-Agent",
										"value": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.45 Safari/537.36"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Origin",
										"value": "http://stage.ada-alex.com"
									},
									{
										"key": "Referer",
										"value": "http://stage.ada-alex.com/"
									},
									{
										"key": "Accept-Language",
										"value": "ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"username\":\"{{username}}\",\r\n    \"password\":\"{{password}}\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}/auth/jwt/create",
									"host": [
										"{{url}}"
									],
									"path": [
										"auth",
										"jwt",
										"create"
									]
								}
							},
							"response": []
						}
					]
				}
			]
		},
		{
			"name": "Logout",
			"item": [
				{
					"name": "Logout by button",
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {}
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Connection",
								"value": "keep-alive"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "User-Agent",
								"value": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.45 Safari/537.36"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Origin",
								"value": "http://stage.ada-alex.com"
							},
							{
								"key": "Referer",
								"value": "http://stage.ada-alex.com/"
							},
							{
								"key": "Accept-Language",
								"value": "ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7"
							},
							{
								"key": "Cookie",
								"value": "refresh_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJlMTdlYThlZS1kMzQ0LTQyZDYtYjkyNC02YTI0NDQwMzM3NmUiLCJpYXQiOjE2MzgyOTc1NTIsImV4cCI6MTYzODI5Nzg1Mn0.LEB4FtdJTYbudoG7Xy55eq5a_xmQW271p5PCAHngwco"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{}"
						},
						"url": {
							"raw": "{{url}}/auth/jwt/logout",
							"host": [
								"{{url}}"
							],
							"path": [
								"auth",
								"jwt",
								"logout"
							]
						}
					},
					"response": []
				}
			]
		}
	]
}